webpackJsonp([1],{137:function(t,e,s){var a=s(0)(s(373),s(299),null,null,null);t.exports=a.exports},138:function(t,e,s){function a(t){s(323)}var i=s(0)(s(374),s(287),a,null,null);t.exports=i.exports},140:function(t,e,s){function a(t){s(343)}var i=s(0)(s(376),s(309),a,null,null);t.exports=i.exports},142:function(t,e,s){function a(t){s(341)}var i=s(0)(s(378),s(307),a,null,null);t.exports=i.exports},168:function(t,e,s){e=t.exports=s(117)(!1),e.push([t.i,".ipt-search-container{position:relative;width:100%;height:38px;line-height:38px}.ipt-search-wrap{width:100%;height:100%;border-radius:19px;overflow:hidden;-webkit-transition:all .3s;transition:all .3s;background-color:#fff}.ipt-search-wrap--focus{width:88%}.ipt-search{display:-webkit-box;display:-ms-flexbox;display:flex;float:right;width:55%;height:38px;-webkit-transition:all .3s;transition:all .3s;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ipt-search--focus{width:95%}.ipt-search input{width:100%;height:100%;border:none;outline:none;padding-left:5px}.ipt-search-icon{width:16px;height:16px;line-height:16px;text-align:center;-ms-flex-negative:0;flex-shrink:0}.ipt-search-cancel{position:absolute;top:0;right:0;width:12%;height:100%;text-align:right}.fade-enter-active,.fade-leave-active{-webkit-transition:opacity .3s;transition:opacity .3s}.fade-enter,.fade-leave-to{opacity:0}",""])},179:function(t,e,s){function a(t){s(183)}var i=s(0)(s(187),s(180),a,null,null);t.exports=i.exports},180:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ipt-search-container",on:{click:t.setFocus}},[s("div",{staticClass:"ipt-search-wrap",class:{"ipt-search-wrap--focus":t.focus}},[s("div",{staticClass:"ipt-search",class:{"ipt-search--focus":t.focus}},[s("i",{staticClass:"ipt-search-icon fa fa-search"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"input",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.content},on:{input:[function(e){e.target.composing||(t.content=e.target.value)},t.update],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"ipt-search-cancel tc",on:{click:function(e){e.stopPropagation(),t.clear(e)}}},[t._v("取消")])])],1)},staticRenderFns:[]}},183:function(t,e,s){var a=s(168);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(118)("0c356ef8",a,!0)},187:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"search",props:{value:{required:!0,type:String}},data:function(){return{focus:!1,content:this.text}},methods:{update:function(t){this.$emit("input",this.content)},clear:function(){this.content="",this.$emit("input",""),this.$refs.input.blur()},setFocus:function(){this.$refs.input.focus()}}}},193:function(t,e,s){e=t.exports=s(117)(!1),e.push([t.i,".bank-holder{padding-top:109px}",""])},211:function(t,e,s){e=t.exports=s(117)(!1),e.push([t.i,".result-sec{color:#14284f;background-color:#fff;margin-top:2.5%}.result-sec:first-child{padding:6% 2.5% 4%}.result-sec .moneyinfo{height:1.2rem;line-height:1.2rem;padding-left:2.5%}.result-sec .info-box{padding:4% 2.5%;line-height:2.6}.result-sec .info-name{color:#727998;width:100px}.result-succ{width:60px;margin:0 auto}.result-tip{color:#727998;line-height:2}.result-fail-tip{margin-bottom:20%}.result-bankinfo{margin-top:2%;line-height:2}.result-bankinfo>.tip{color:#0b77f5}.result-bankinfo>span{font-weight:700}.result-bankinfo .bank-img{position:absolute;top:0;left:10px;color:transparent}.result-bankinfo img{width:17px;position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.result-fail{margin:0 auto;width:116px;padding-top:20%}.result-suggest{color:#0b77f5;line-height:3;margin-bottom:6%}",""])},213:function(t,e,s){e=t.exports=s(117)(!1),e.push([t.i,".order-tip{color:#5c98f7}.order-add{height:1.4rem;line-height:1.4rem;color:#727998;background:#fff}.order-address{min-height:1.33rem;background:#fff;padding:.5rem .4rem .4rem}.order-address-card{color:#727998}.order-address-card p:first-child{color:#14284f}.order-label{display:inline-block;height:16px;line-height:16px;border-radius:8px;background-color:#d1af5d;color:#fff;padding:0 6px;vertical-align:top}.order-contract{color:#5c98f7}.order-sheet-add{width:92%;height:30px;color:#d1af5d;font-size:15px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.order-sheet-add div{height:30px;line-height:30px}",""])},224:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAdCAYAAABbjRdIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAOzSURBVHjanNZ9aNVVGAfwz72bzpu1ZZoGkzQVyhxKkVTiVlkRsfKNJWT0h3/UoMDAUeRCDIL9E/vDQHFFaS+GhK+rYaipaGDq0rl8WejMlcPMSW3LV7z39s+5cl3b9bc9cDjn8HvO9/t7zjnP9zmxdDotl1VV1yXwOl7Fw4hlfU7jIL7Ex7U1lZdzYcVykVVV1z2KNRgPQwoGKy4e4fahQ/x78Yr29g5Xrl7LuJ/C/Nqayn39JquqrpuB75AYNXKY55+dauL998rPz7vhc/160rGWNt9vb3Tur7/hMl6orancEZmsqrpuAhpR9NjUiebOnC4vL97nDiSTKRvqf/TTgePQiam1NZUnevr1hfAZiiaXjFMxuywnEeTlxVXMLjO5ZBwU4dPe/OK9RPUEShOJAvPmlInFRLJYjHlzyiQSBVBaVV33VJTIXoHSaSWZhZEtkShQOq0kM50fhexxmDRxrIHYpAfGZIbTo5AVw8i77xwQ2fC7CjPDMVHIEpBKpQZENmhQ/o1jjEJ2DP44c35AZKd/P5cZHo9CthkO/PzrgMj2N7bchHMrshW4fKi5VceFzn4RdVzodKi5NaMky29JVltT2YHVqVRKfcPefpHVN+zNnPUXASeSgizFP0db2jQfORWJqPnIKUdb2qAL70dSkBDdebwL6zbt0dV9KSdRV/cl6zbtyUzfqa2p/LNXlVm0eGWfCoRvUT5hfLHKBeXi8f9rVyqVVreqwcnWdmjAi6HOibqNMArfoOtka7st2/b36rRl2/4MUVfwH9UXYE+y+7AEv+AsPkch7Nzd5GDTzVXjYNMJO3c3ZaaFwf9sWL8k4N2w/KwoPgzimamOndgb6lpxOm3B2vW7FN5xmwnji51sbbd2/S6hHK7GGTwStLUktKX4Gm/jXH5waMBIXMNX4U2xC8msH+tOJlMLV63ZqmJWqXWb90gmU/AR3soub3gyvFleDv1zKI8tWrzyTBDf7XgNp/uqkdiAmdmphbk9firbxuITPIP2eCBqRnkOIgHwJWTeFzswLweRgFce8IszF+QejI6Qu9dCZCtCfzXCmtEBXxxbw3k14g3cqjxfxJuhz2UFAa8x4G+NoyLs/bAgnm1YhhkY2k/RHxrWLQs4ywNuPSry0Y1ZmBNy4yEsDO06joYH6Gl0hK3sCnk1GCPCRRiHSVnpBIfwATbq8WFjaFPCwT8diKeEJuKZ7sMPQU0O95bU2XY4tPfCvj8YlGAMhodoikJ0V3EhbNlvocr3eWn+GwCVnC6ussWdiQAAAABJRU5ErkJggg=="},260:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABnCAMAAAD8OnauAAABMlBMVEUAAACPl62Pl63Rr12Pl63Rr13f3+bf3+bKztnRr13f3+bf3+bf3+bRr11yeZjf3+bf3+bf3+bRr11yeZjf3+bRr13f3+bf3+bf3+ZyeZjf3+bf3+ZyeZjRr13f3+bRr13Rr13Rr12Pl62Pl62Pl63Rr13Rr13Rr13f3+bRr13f3+bf3+bf3+bRr11yeZhyeZjf3+bf3+aPl63f3+bf3+bf3+bRr13f3+bRr13///9yeZicobfRr13T1938+vX7+PHSsWD+/fukqb3KztnUtGbf3+bs3bro163fx42nq7/x587h4+nYvHbZ3OH69+/07Nnv4sTgypPcwoPXunPm5+317dvjzpvZvHjVt2z59erw5cqOk6zhypTVtWrav377+fLy6dLo16/Wt23p2bHo2LDav30tof4QAAAAOXRSTlMAZhyAYvqCCPvv3dLCtJIsDwwJ5BrcmD8zEPn22MzFxWFaVktKIhfboKB3c2Y9EeNeSSYUtLKfbT6OqA+HAAADlElEQVRo3u3a91vaQBgH8FPKVJa4xVHEve1MfEuCAgEcLKFuO///f6FJoJxPLuTaS3ItyvcHR97H+5hLcu/FR2SRQAD9m5ycoD/K/wen0ww/FDjRY2u2h4b6Cf491S8KDgQ4wzgDuJ/h4dQheZADPPxqKIVcTzpt4r4aRn+dMc+Ed8IzxlC26S6ClsUxStlpF3ngqpwpfwOPVfkKPE67aA3KgiB8gTWrchkmnHaRFzLqyBnwMpVRitVF0BkZmMroMEW6fl9oNuTzOwzTE1/I5+fy+YU4b9iXH4mi6EjeZyzMRPZEnO7IIg6lvBeZsYJD+aj6MZoPGd0kbWR6OWklz87pn+ZmDccj4u2pgNMdWcChlC9vxQjDGSfES4ENxrKYYLjGoijYhQVRZLirDbDcGVkmTKJMgYnn2BpudJbMBonichkaBEwNBVY6TUIhUVy+AsVxOFsHLfUsYRJlc3h5qJtlCmwYWmnIDYV0ybJ9mDH0qR7AA/jFwfbTb2c8gB2HR+P84TfjGhzTtgN84emR8Tbs8/GF0ZQqq7Bvnfs1nlpHcfQBu3zgSTUx7VJvb2/v84Sn1fi1O2tzc3OrJ3x6fKTm+NThqd5X3QPLx0l1ddnxmyuO3m5ZwUedaF+ff3qacwYYu7FR5H+3xRk+GEcajPyTMTrs7DXWYRyecFyH6TdXiWN3Ih+n0pFFSi61RTrcL/34ecFStfVwDxCcf7+0yhGuFGXoxhve4QRfFwHkYqEpZbNSs6D9DuEVHnA1BzlFejLrSg6Cr92HvwLU2iymawAeewsIPd9BLpBHCzJFtt2PqyDfmB2/kYEy2/ba4nUOCoJpChBccREuQk3okTsIs8L0VCAn9apJOdhxDS6C0ruoWJwytR+XLHuSJMuS6cnWW3rVu+pIPybhKhRN3TOot+djyaUFpAUFc/fson1jb7gEP0DFxP3ccYUmzLsE34Nk4QoSBF2CZcgKerIZwtWOgtdtuJ6rEC6GXZzqFmgydvFUu9OdHqDZObeaLmMX31xs3Ylcq8nHCcsGFz9OTjYJvIBg+eyJixcQh9dqvGRi2eBqSyaPJpFt1S+MTaJP2iKtO7m0EaB3J5e2Pjj8NntM+UHZ3rq6ob8zbujvADycXmEe8feP+ivMc35pM76mQvgj3xfzn/qL+cbS6sv4U8QApoT4zxdbuRQTDHBEvGWRaf/rQ89uUrSd5C5iyEwkYY9NRHq5vwBAtJcqr24wAgAAAABJRU5ErkJggg=="},287:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"g-inner bank-holder"},[a("top-nav",{attrs:{title:"选择银行卡"}}),t._v(" "),a("div",{staticClass:"search-holder"},[a("ipt-search",{model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),t._v(" "),a("div",{staticClass:"g-holder g-sheet-list"},[a("ul",{on:{click:t.select}},t._l(t.list,function(e,s){return a("li",{key:e.bank_id},[a("div",{staticClass:"g-sheet-wrap",class:{"g-hair-top":s>0},attrs:{"data-index":s}},[a("div",{staticClass:"g-sheet-icon",style:{backgroundImage:"url(/webapp/"+e.bank_logo+")"}}),t._v(" "),a("div",{attrs:{"data-index":s}},[t._v("\n            "+t._s(e.name)+"\n          ")])])])})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.list.length,expression:"list.length === 0"}],staticClass:"pt30 pb50 tc"},[a("img",{attrs:{src:s(27),width:"110px"}}),t._v(" "),a("p",{staticClass:"g-color-2 mt8"},[t._v("无相关结果")])])])],1)},staticRenderFns:[]}},299:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"g-pt"},[s("top-nav",{attrs:{title:"添加银行卡"}}),t._v(" "),s("ul",{staticClass:"g-list"},[s("li",{staticClass:"g-hair-bottom"},[s("div",{staticClass:"g-form-list-l"},[t._v("支付银行卡")]),t._v(" "),s("div",{staticClass:"g-form-list-r"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.cardNumber,expression:"cardNumber"}],attrs:{type:"number",placeholder:"请输入您本人储蓄卡卡号"},domProps:{value:t.cardNumber},on:{input:function(e){e.target.composing||(t.cardNumber=e.target.value)}}})])]),t._v(" "),s("router-link",{attrs:{tag:"li",to:"/project/bank"}},[s("div",{staticClass:"g-form-list-l"},[t._v("选择银行")]),t._v(" "),s("div",{staticClass:"g-form-list-r"},[t._v(t._s(t.bank.name))]),t._v(" "),s("div",{staticClass:"g-form-list-angle"})])],1),t._v(" "),s("div",{staticClass:"g-btn g-btn-gray mt30",class:{"g-btn-touchable":t.valid},on:{click:t.confirm}},[t._v("\n    确定\n  ")])],1)},staticRenderFns:[]}},307:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"g-inner g-pt"},[a("top-nav",{attrs:{title:"申购结果"}}),t._v(" "),a("div",{staticClass:"g-holder g-pb"},[a("div",{staticClass:"result-sec pt20 pb15"},[a("img",{staticClass:"db result-succ",attrs:{src:s(260)}}),t._v(" "),a("p",{staticClass:"result-tip f17 tc"},[t._v("申购成功")]),t._v(" "),a("div",{staticClass:"result-bankinfo f16"},[a("p",{staticClass:"pl30 bankinfo rel"},[a("i",{staticClass:"bank-img"},[t._v("0"),a("img",{attrs:{src:"/webapp/"+t.bank.wap_bank_logo}})]),t._v("请使用您的尾号 "),a("span",[t._v(t._s(t.info.pay_bank_num4))]),t._v(" 的"+t._s(t.info.pay_bank_name)+"储蓄卡转账 "),a("span",[t._v(t._s(t._f("currency")(1e4*t.info.orderMoney)))]),t._v(" 元\n        ")]),t._v(" "),a("p",{staticClass:"pl30 f14 tip"},[t._v("您可通过网银转账或线下柜台方式进行")])])]),t._v(" "),a("div",{staticClass:"result-sec"},[a("div",{staticClass:"f15 moneyinfo rel g-hair-bottom"},[t._v("基金收款账户信息")]),t._v(" "),a("ul",{staticClass:"info-box"},[a("li",[a("span",{staticClass:"info-name dib"},[t._v("账户名称")]),t._v(" "),a("span",[t._v(t._s(t.info.account_name))])]),t._v(" "),a("li",[a("span",{staticClass:"info-name dib"},[t._v("开户银行")]),t._v(" "),a("span",[t._v(t._s(t.info.bank_deposit))])]),t._v(" "),a("li",[a("span",{staticClass:"info-name dib"},[t._v("账号")]),t._v(" "),a("span",[t._v(t._s(t.info.fund_recieveBank_num))])]),t._v(" "),a("li",[a("span",{staticClass:"info-name dib"},[t._v("大额支付号")]),t._v(" "),a("span",[t._v(t._s(t.info.fund_recieveBank_num_bigger))])])])]),t._v(" "),a("p",{staticClass:"f12 tc result-suggest"},[t._v("（建议您工作日9：00 - 16：00打款，以便资金尽快到账）")]),t._v(" "),a("router-link",{staticClass:"g-btn g-btn-touchable mt30",attrs:{to:"/home"}},[t._v("返回首页")])],1)],1)},staticRenderFns:[]}},309:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"g-inner g-pt"},[a("top-nav",{attrs:{title:"填写申购订单",backEvent:t.beforeLeave}}),t._v(" "),t._m(0),t._v(" "),t.address?a("router-link",{staticClass:"flex order-address mb10",attrs:{to:{path:"/aux/address",query:{from_order:1,return_url:t.$route.path}}}},[a("div",{staticClass:"order-address-card flex-grow"},[a("p",{staticClass:"mb8"},[a("span",{staticClass:"mr6"},[t._v(t._s(t.name))]),t._v(" "),a("span",[t._v(t._s(t._f("phoneNumber")(t.phone)))]),t._v(" "),+t.address.default?a("span",{staticClass:"ml8 f12 order-label"},[t._v("默认")]):t._e()]),t._v(" "),a("p",[t._v(t._s(t.address.value))])]),t._v(" "),a("div",{staticClass:"g-form-list-angle"})]):a("router-link",{staticClass:"tc mb10 order-add",attrs:{to:{path:"/aux/addressEdit",query:{initial:1}},tag:"div"}},[a("img",{staticClass:"vm",attrs:{src:s(224),width:"14px"}}),t._v(" "),a("span",{staticClass:"vm"},[t._v("添加地址")])]),t._v(" "),a("ul",{staticClass:"g-list"},[a("li",{staticClass:"g-hair-bottom"},[a("div",{staticClass:"g-form-list-l"},[t._v("\n        认购金额\n      ")]),t._v(" "),a("div",{staticClass:"g-form-list-r pl10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.quota,expression:"quota"}],attrs:{type:"number"},domProps:{value:t.quota},on:{input:function(e){e.target.composing||(t.quota=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"g-form-list-unit"},[t._v("万元")])]),t._v(" "),a("li",{on:{click:t.selectBank}},[a("div",{staticClass:"g-form-list-l"},[t._v("支付银行卡")]),t._v(" "),a("div",{staticClass:"g-form-list-r pl10"},[t._v("\n        "+t._s(t.bank.bank_name?t.bank.bank_name+"（"+t.bank.card_number.slice(-4)+"）":"添加银行卡")+"\n      ")]),t._v(" "),a("div",{staticClass:"g-form-list-angle"})])]),t._v(" "),a("div",{staticClass:"g-form-list-li mt10"},[a("div",{staticClass:"g-form-list-l"},[t._v("投资顾问")]),t._v(" "),a("div",{staticClass:"g-form-list-r pl10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sales_code,expression:"sales_code"}],attrs:{type:"text",placeholder:"投资顾问编号（可不填）"},domProps:{value:t.sales_code},on:{input:function(e){e.target.composing||(t.sales_code=e.target.value)}}})])]),t._v(" "),t.contract?a("div",{staticClass:"tc mt30 order-contract"},[a("a",{directives:[{name:"download",rawName:"v-download",value:t.contract.url,expression:"contract.url"}],attrs:{href:t.contract.url,download:t.contract.name}},[t._v("\n    《"+t._s(t.contract.name)+"》\n    ")])]):t._e(),t._v(" "),a("div",{staticClass:"g-btn g-btn-gray mt30",class:{"g-btn-touchable":!t.no},on:{click:t.subscribe}},[t._v("\n    立即申购\n  ")]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],staticClass:"g-mask"})]),t._v(" "),a("div",{staticClass:"g-sheet",attrs:{status:t.status}},[a("div",{staticClass:"g-sheet-hd g-hair-bottom"},[t._v("\n      选择银行卡\n      "),a("i",{staticClass:"g-sheet-close",on:{click:function(e){t.status=0}}})]),t._v(" "),a("div",{staticClass:"g-sheet-bd"},[a("ul",{staticClass:"g-sheet-list"},t._l(t.bankList,function(e,s){return a("li",{on:{click:function(e){t.setBank(s)}}},[a("div",{staticClass:"g-sheet-wrap",class:{"g-hair-top":s>0}},[a("div",{staticClass:"g-sheet-icon",style:{backgroundImage:"url(/webapp/"+e.wap_bank_logo+")"}}),t._v(" "),a("div",[t._v(t._s(e.bank_name))])])])})),t._v(" "),a("div",{staticClass:"order-sheet-add auto g-hair-top",on:{click:t.addMoreBank}},[a("div",{staticClass:"f24 lighter pr6"},[t._v("+")]),t._v(" "),a("div",{class:{pt2:t.isIOS}},[t._v("添加银行卡")])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"tc f12 pt8 pb8 order-tip"},[t._v("请先完善您的联系地址"),s("br"),t._v("我们将以该地址填写和邮寄纸质版基金合同")])}]}},323:function(t,e,s){var a=s(193);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(118)("06b80604",a,!0)},341:function(t,e,s){var a=s(211);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(118)("f6689590",a,!0)},343:function(t,e,s){var a=s(213);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(118)("4fb10f50",a,!0)},373:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"addbank",data:function(){return{cardNumber:""}},computed:{bank:function(){return this.$store.state.bank},valid:function(){return this.cardNumber.length>15&&this.bank.name}},created:function(){if(!this.$route.query.return_url)return this.$router.push("/");this.cardNumber=this.$store.state.bank.card},beforeDestroy:function(){this.$store.commit("setBank",{card:this.cardNumber})},methods:{confirm:function(){var t=this;this.valid&&$ajax({url:"/api/user/addBankCard",type:"post",data:{bank_id:this.bank.id,bank_number:this.cardNumber},success:function(e){return 2583===e.code?COMMUNICATOR.$emit("toast","银行卡号不正确，请重试"):0!==e.code?COMMUNICATOR.$emit("toast","添加失败，请重试"):(COMMUNICATOR.$emit("toast","添加成功"),void t.$router.replace(t.$route.query.return_url))}})}}}},374:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(25),i=s.n(a),n=s(179),r=s.n(n);e.default={name:"bank",beforeRouteEnter:function(t,e,s){$ajax({url:"/api/user/GetBanks",success:function(t){0===t.code?s(function(e){e.all=i()(t.data)}):(COMMUNICATOR.$emit("toast",t.info),s(!1))}})},data:function(){return{all:[],text:""}},computed:{list:function(){var t=this.text;return this.all.filter(function(e){return e.name.indexOf(t)>-1})}},methods:{select:function(t){var e=t.target;if(e){var s=e.getAttribute("data-index"),a=this.list[s];this.$store.commit("setBank",{id:a.bank_id,name:a.name}),this.$router.back()}}},components:{"ipt-search":r.a}}},376:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(25),i=s.n(a);e.default={name:"order",data:function(){return{id:this.$route.params.id,status:0,name:USER_DATA.real_name,phone:USER_DATA.phone,bankList:[],quota:0,sales_code:"",cache:null,contract:null,beforeLeave:this.beforeLeaveHandler,isIOS:window.isIOS}},computed:{bank:function(){return this.$store.state.orderBank},address:function(){return this.$store.getters.address},invalidQuota:function(){var t=this.quota;return!t||"0"===String(t).charAt(0)},no:function(){return this.invalidQuota||!this.bankList.length||!this.address}},beforeRouteEnter:function(t,e,s){"address"===e.name||"addressEdit"===e.name?s():$ajax({url:"/api/user/getBankCard",success:function(t){var e=t.data;e&&e.length>0?s(function(t){t.bankList=i()(e),t.$store.commit("setOrderBank",e[0])}):s()}})},activated:function(){this.cache||(this.cache=JSON.parse(localStorage.quota)),this.quota||(this.quota=this.cache.value),this.contract||(this.contract=JSON.parse(localStorage.contract)),this.address||this.getDefaultAddress()},mounted:function(){var t=this;COMMUNICATOR.$on("updateAddress",function(){t.getDefaultAddress()})},methods:{beforeLeaveHandler:function(t){var e=this;COMMUNICATOR.$emit("showDialog",{content:"您确认退出此次编辑吗？",type:1,center:!0,callback:function(){e.clearData(),e.$router.replace({name:"detail",params:{id:e.id}})}})},clearData:function(){localStorage.quota=null,localStorage.contract=null,this.quota=0,this.cache=null,this.contract=null,this.$store.commit("setAddressList",[])},getDefaultAddress:function(){var t=this;$ajax({url:"/api/user/defaultAdd",success:function(e){if(0===e.code){var e=e.data.addressDetail;e&&t.$store.commit("setAddressList",[{addressDetail:e,is_default:1}])}}})},selectBank:function(){this.bankList.length>0?this.status=1:this.addMoreBank()},setBank:function(t){this.$store.commit("setOrderBank",this.bankList[t]),this.status=0},addMoreBank:function(){this.status=0,this.$store.commit("setBank",{id:"",name:"",card:""}),this.$router.push({name:"addbank",query:{return_url:this.$route.path}})},subscribe:function(){var t=this;if(!this.no){var e=+this.quota,s=this.cache.min,a=this.cache.step;if(e<s||e/a%1!=0){var i=s+"万起投，"+a+"万递增";return void COMMUNICATOR.$emit("toast",i)}var n={product_id:this.id,order_money:this.quota,agreement_address:this.address.value,pay_account:{type:this.bank.type,bank_id:this.bank.id,bank_number:this.bank.account}};this.sales_code&&(n.sales_code=this.sales_code),$ajax({url:"/api/peinvest/SubmitOrder",type:"post",data:n,success:function(e){return 0===e.code?(setTimeout(function(){t.clearData()},400),void t.$router.push({name:"result",query:{id:t.id,orderID:e.data.order_id}})):2620===e.code?void COMMUNICATOR.$emit("showDialog",{phone:"4000099100",content:"认购失败，请联系客服：400-0099-100",center:!0,type:1}):void COMMUNICATOR.$emit("showDialog",{content:e.info+"。您可以联系客服：400-0099-100",type:1})}})}}}}},378:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"result",data:function(){return{id:this.$route.query.id,info:{}}},beforeRouteEnter:function(t,e,s){"order"===e.name?$ajax({url:"/api/peinvest/resultInfo",data:{id:t.query.orderID},success:function(t){0===t.code&&s(function(e){e.info=t.data})}}):s("/")},beforeRouteLeave:function(t,e,s){"user"===t.name||"home"===t.name||"detail"===t.name?s():s({name:"detail",params:{id:this.id}})},computed:{bank:function(){return this.$store.state.orderBank},quota:function(){return this.$store.state.quota}}}}});