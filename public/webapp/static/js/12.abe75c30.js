webpackJsonp([12],{136:function(e,t,i){function o(e){i(325)}var r=i(0)(i(372),i(289),o,null,null);e.exports=r.exports},190:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAMAAABd273TAAAAY1BMVEUAAAByeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZjk/FpXAAAAIHRSTlMA0MjwkA+h97A4KGNABi8eqNiES+aZWN+dFsGLdW94FAeQAvIAAADbSURBVCjPfdDbjoMgFIXhJY4iMBQ8aw8z6/2fsoG20Avxu9nR/AkbYGee2CwGTvNPwTzxhlo6FDlZgxVOVDwKmvtVtOo7aDIL7D0Dk4OF2QR07HRjJHUKlKgSj52rBfDgrbCDYhuGZlcIHEUYI7cUuLn9GOLPB+B6jikwzHZASfZXyRYpsOr3QwO4SwbCFXYYKAelF8HJpUBfIv26RH0J027svndIj+e5ILIr9TvQvou8BlBLm84yRzvk74V/R8Go8GbNfwxWnOiJigZFhj1GUtYFkhwB5UWRV3gCUjsZxwxmSo0AAAAASUVORK5CYII="},195:function(e,t,i){t=e.exports=i(117)(!1),t.push([e.i,'.identify-tip{color:#0b77f5;line-height:1.5;padding-left:2.5%;padding-top:3%;padding-bottom:3%}.identify-form{margin-bottom:1rem;position:relative;padding:0 3.5%;background-color:#fff}.identify-form>p{position:relative;line-height:3;color:#14284f;margin-bottom:2px}.identify-form>.chosType{padding-left:7%}.identify-form input{width:100%;line-height:3;padding-left:7%;padding-right:13%;font-size:15px}.identify-icon-angleRight,.identify-icon-certNumber,.identify-icon-clear,.identify-icon-photo{position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.identify-icon-certNumber{width:14px;width:16px}.identify-icon-clear{width:15px;left:auto;right:0}.identify-icon-photo{width:16px;left:auto;right:0}.identify-icon-angleRight{left:auto;right:0;width:7.5px}.identify-tipBox{padding:0 3.5%;color:#14284f;line-height:1.8;font-size:13px}.identify-tipBox>p{margin-top:2%}.tip-head{text-align:center;line-height:5}.tip-head>span{position:relative}.tip-head>span:after,.tip-head>span:before{content:"";position:absolute;top:50%;left:120%;width:100px;height:1px;background-color:#14284f;-webkit-transform:scaleY(.5);transform:scaleY(.5);-webkit-transform-origin:center bottom;transform-origin:center bottom}.tip-head>span:before{left:auto;right:120%}.iden-tel{color:#0b77f5}.identify .g-btn-gray{pointer-events:none;background-color:#d3d7dd}.identify-shadow{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5)}.identify-action-sheet{position:absolute;left:0;bottom:0;width:100%;background-color:#fff;padding:0 3.5%;text-align:center;line-height:3;color:#14284f}.identify-action-sheet li{position:relative}.identify-action-sheet li:after{border-color:#d3d7dd}.identity-img-upload{width:45%;height:2.6rem;border:1px solid #d3d7dd;color:#9fa3b7;text-align:center;position:relative;border-radius:2px}.identity-img-upload img{position:absolute;top:8%;left:5%;width:90%;height:84%}.identify-icon-add{background-image:url('+i(249)+");background-repeat:no-repeat;background-size:100% 100%;width:.5rem;height:.5rem;margin:.6rem auto .4rem}#img-uploader{position:absolute;opacity:0;left:-100%}",""])},249:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjBAMAAADs965qAAAAMFBMVEUAAACfo7efo7efo7efo7efo7efo7efo7efo7efo7efo7efo7efo7efo7efo7efo7eRgvZGAAAAD3RSTlMAoIbZ+ejDnW9fV04SGBXK5JqvAAAATklEQVQoz2OAAp6mDQxogO3/T3Qh/v/fMYU+Dl+hS4JgIP//M4RRycBg/x8NbGD4jw4UGPzRhRoYlqKJfDswOPw4YEKs/z+hC3H528GYAKlVgdcd09O3AAAAAElFTkSuQmCC"},250:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAASFBMVEXNz9cAAADNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9fNz9cRCFffAAAAGHRSTlOAAA8Jb1dCeWglSTpTTidza2A2HRVlL1tKBeJqAAAA1UlEQVQoz3XTWxKDIAwF0BsQVChofbT732mrEGyw3K/MHMhABkAlOnoXgn0pulI4vsGZva54HfCbfhFsUeepLn7gnk4xs9ae2ON/nidvPRrxBxu00mvClmuz8bou8mEswZaSDB9p5YWEmTuNX0+qeUbcurhULJDuhMKhcqGQA5vr8Zv7mI3YLVTvo3ArdQCEv7DnakoqXcHzHU5NrpCyE1Sfb2Vn5PjAvQnk0EpHX9ZTi+PBNDY05Le2NN7SyQ1/68IUp1qt+CXaycZr/ceUHXh+gZHoA0WABhKNTNTHAAAAAElFTkSuQmCC"},252:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAfCAMAAADDR10IAAAAe1BMVEUAAAByeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZhyeZjw1/S6AAAAKHRSTlMAUPbRwODcqmMLBgMW7Nd3Le/JxbagkoRuU0YQgXwmHOSdmj7nzFo4PBhvDgAAARNJREFUKM9tkemWgjAMRmOpbQHZ911Bne/9n3CUGTkpcn8l555maeiDbxTeBL1Ley4pgrJZTpXCOd65zsHcrZEXIRhteUO/xQ0ePncxJMtKPLmssPD+yLnMEquQFDw7P3YTdCxTjiULuFYdj8s04VmEhmUjNJeTCNlTjZbsXfQ274CcLLwccvxbsoC60M4WgBxMpAXk6myWXOBF1tAhbtz+dPRNZ4pUnVfCbD55/EklgCR0VkIB3Ott9lghrCd2wOGO7PIfJyLyd91LqGld7Cpa+qJG6q0nMHRAiej9y/J4r2vgUYWWDqlfIk38YzlhIMGq2gQzscPucDRBsrL2RJpyqFtfP0+Mxpio1AEMuX2IQzJDv/suGBNECc7BAAAAAElFTkSuQmCC"},289:function(e,t,i){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"identify g-pt"},[o("top-nav",{attrs:{title:"实名认证"}}),e._v(" "),o("p",{staticClass:"identify-tip"},[e._v(e._s(e.identifyWords))]),e._v(" "),o("form",{staticClass:"identify-form"},[o("p",{staticClass:"g-hair-bottom"},[o("img",{staticClass:"identify-icon-certNumber",attrs:{src:i(252)}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userName,expression:"userName",modifiers:{trim:!0}}],attrs:{placeholder:"请输入您的姓名",type:"text"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),e.isDenied?o("p",{staticClass:"chosType g-hair-bottom",on:{click:function(t){e.showActionSheet=!0}}},[o("img",{staticClass:"identify-icon-certNumber",attrs:{src:i(190)}}),e._v(" "),o("span",[e._v("选择证件")]),e._v(" "),o("span",{staticClass:"r mr20"},[e._v(e._s(e.certTypeMap[e.certType]))]),e._v(" "),o("img",{staticClass:"identify-icon-angleRight",attrs:{src:i(120)}})]):e._e(),e._v(" "),o("p",{staticClass:"g-hair-bottom"},[o("img",{staticClass:"identify-icon-certNumber",attrs:{src:i(190)}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.certNumber,expression:"certNumber",modifiers:{trim:!0}}],attrs:{placeholder:"请输入您的证件号码",type:"number"},domProps:{value:e.certNumber},on:{input:function(t){t.target.composing||(e.certNumber=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:e.certNumber,expression:"certNumber"}],staticClass:"identify-icon-clear",attrs:{src:i(250)},on:{click:function(t){e.certNumber=""}}})]),e._v(" "),e.isDenied?o("div",{staticClass:"pt30 pb30"},[o("div",{staticClass:"identity-img-upload dib",on:{click:function(t){e.triggerUploader(1)}}},[o("div",{staticClass:"identify-icon-add"}),e._v(" "),o("p",[e._v("请上传正面证件照")]),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:e.photoFrontUrl,expression:"photoFrontUrl"}],attrs:{src:e.photoFrontUrl}})]),e._v(" "),o("div",{staticClass:"identity-img-upload dib r",on:{click:function(t){e.triggerUploader(2)}}},[o("div",{staticClass:"identify-icon-add"}),e._v(" "),o("p",[e._v("请上传反面证件照")]),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:e.photoBackUrl,expression:"photoBackUrl"}],attrs:{src:e.photoBackUrl}})])]):e._e()]),e._v(" "),o("input",{attrs:{type:"file",id:"img-uploader"},on:{change:e.uploadImg}}),e._v(" "),o("div",{staticClass:"g-btn g-btn-touchable",class:{"g-btn-gray":e.invalid},on:{click:e.submit}},[e._v("确定")]),e._v(" "),e.isDenied?e._e():o("div",{staticClass:"identify-tipBox"},[e._m(0),e._v(" "),o("p",[e._v("1.  请谨慎填写您的身份证信息，iSeecapital平台会为您垫付首次认证费用5元（调用公安部认证接口费用）。")]),e._v(" "),o("p",[e._v("2.  未满18周岁实名认证将无法通过。")]),e._v(" "),e._m(1)]),e._v(" "),e.showActionSheet?o("div",{staticClass:"g-mask"},[o("ul",{staticClass:"identify-action-sheet f15",on:{click:e.chooseType}},[o("li",{staticClass:"g-hair-bottom",attrs:{"data-type":"1"}},[e._v(e._s(e.certTypeMap[1]))]),e._v(" "),o("li",{staticClass:"g-hair-bottom",attrs:{"data-type":"2"}},[e._v(e._s(e.certTypeMap[2]))]),e._v(" "),o("li",{staticClass:"g-hair-bottom",attrs:{"data-type":"3"}},[e._v(e._s(e.certTypeMap[3]))]),e._v(" "),o("li",{attrs:{"data-type":"4"}},[e._v(e._s(e.certTypeMap[4]))])])]):e._e()],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"tip-head"},[i("span",{staticClass:"dib"},[e._v("温馨提示")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v("3.  iSeecapital会对您的所有资料进行严格保密，实名认证过程遇到问题，请联系在线客服或致电"),i("span",{staticClass:"iden-tel"},[e._v("400-0099-100")]),e._v("。")])}]}},325:function(e,t,i){var o=i(195);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(118)("670a69ab",o,!0)},372:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"identify",data:function(){return{isDenied:!0,ret:this.$route.query.return_url,showActionSheet:!1,uploader:null,userName:"",certNumber:"",photoType:1,photoFrontUrl:"",photoBackUrl:"http://img1.3lian.com/2015/a1/84/d/94.jpg",certType:0,certTypeMap:["","身份证","军官证","台胞证","其他"]}},computed:{invalid:function(){return this.isDenied?!(this.userName&&this.certNumber&&this.certType&&this.photoFrontUrl&&this.photoBackUrl):!this.userName||!this.certNumber},identifyWords:function(){return this.isDenied?"抱歉，您的实名认证未通过，请您按照以下要求上传信息":"为保证您的账户安全，您需要先进行实名认证"}},mounted:function(){this.uploader=this.$el.querySelector("#img-uploader")},methods:{check:function(){return!this.invalid&&(!!/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(this.certNumber)||(COMMUNICATOR.$emit("toast","身份证号格式有误"),!1))},triggerUploader:function(e){this.photoType=e,this.uploader.click()},uploadImg:function(e){var t=this,i=e.target.files;i&&0!==i.length&&$ajax({url:"",type:"post",data:i[0],success:function(e){0===e.code&&(1===t.photoType&&(t.photoFrontUrl=src),2===t.photoType&&(t.photoBackUrl=src))}})},chooseType:function(e){var t=e.target;"LI"===t.tagName&&(this.certType=t.getAttribute("data-type")),this.showActionSheet=!1},submit:function(){var e=this;if(this.check())return this.isDenied?this.submitCert():void $ajax({url:"/api/user/realnameAuth",type:"POST",data:{realname:this.userName,card_id:this.certNumber},success:function(t){if(0===t.code){if(COMMUNICATOR.$emit("toast","认证成功"),e.ret.indexOf("/user")>-1)return void e.$router.push(e.ret);if(!USER_DATA.risk_evaluation){var i=location.origin+"/#"+e.ret;return void(location.href="/user/fundquestionnaire?mobile=1&flag=1&ret_url="+encodeURIComponent(i))}return e.$router.push(e.ret),void COMMUNICATOR.$emit("updataUserData")}if(2633===t.code||2634===t.code||2635===t.code)return COMMUNICATOR.$emit("showDialog",{phone:"4000099100",content:t.info+"<br />客服热线：400-0099-100",type:1}),void(e.isDenied=!0);COMMUNICATOR.$emit("toast",t.info)}})},submitCert:function(){}}}}});