webpackJsonp([11],{141:function(t,e,o){function a(t){o(322)}var i=o(0)(o(377),o(286),a,null,null);t.exports=i.exports},152:function(t,e,o){e=t.exports=o(117)(!1),e.push([t.i,".mint-loadmore{overflow:hidden}.mint-loadmore-content.is-dropped{-webkit-transition:.2s;transition:.2s}.mint-loadmore-bottom{height:50px;line-height:50px;margin-bottom:-50px}.mint-loadmore-text{display:block;margin-left:5px}",""])},153:function(t,e,o){function a(t){o(155)}var i=o(0)(o(156),o(154),a,null,null);t.exports=i.exports},154:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mint-loadmore"},[o("div",{staticClass:"mint-loadmore-content",class:{"is-dropped":t.bottomDropped},style:{transform:"translate3d(0, "+t.translate+"px, 0)"}},[t._t("default"),t._v(" "),t.bottomMethod?o("div",{staticClass:"mint-loadmore-bottom flex middle center"},["loading"===t.bottomStatus?o("spinner",{attrs:{"md-size":20,"md-color":"#d1af5d"}}):t._e(),t._v(" "),o("span",{staticClass:"mint-loadmore-text"},[t._v(t._s(t.bottomText))])],1):t._e()],2)])},staticRenderFns:[]}},155:function(t,e,o){var a=o(152);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(118)("1f16bfa8",a,!0)},156:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(26),i=o.n(a);e.default={name:"mt-loadmore",components:{spinner:i.a},props:{maxDistance:{type:Number,default:0},distanceIndex:{type:Number,default:2},bottomPullText:{type:String,default:"上拉刷新"},bottomDropText:{type:String,default:"释放更新"},bottomLoadingText:{type:String,default:"加载中..."},bottomDistance:{type:Number,default:70},bottomMethod:{type:Function},bottomAllLoaded:{type:Boolean,default:!1}},data:function(){return{translate:0,scrollEventTarget:null,bottomText:"",bottomDropped:!1,bottomReached:!1,direction:"up",startY:0,startScrollTop:0,currentY:0,bottomStatus:""}},watch:{bottomStatus:function(t){switch(this.$emit("bottom-status-change",t),t){case"pull":this.bottomText=this.bottomPullText;break;case"drop":this.bottomText=this.bottomDropText;break;case"loading":this.bottomText=this.bottomLoadingText}}},methods:{onBottomLoaded:function(){var t=this;this.bottomStatus="pull",this.bottomDropped=!1,this.$nextTick(function(){t.scrollEventTarget===window?document.body.scrollTop+=50:t.scrollEventTarget.scrollTop+=50,t.translate=0})},getScrollEventTarget:function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var o=document.defaultView.getComputedStyle(e).overflowY;if("scroll"===o||"auto"===o)return e;e=e.parentNode}return window},getScrollTop:function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},bindTouchEvents:function(){this.$el.addEventListener("touchstart",this.handleTouchStart),this.$el.addEventListener("touchmove",this.handleTouchMove),this.$el.addEventListener("touchend",this.handleTouchEnd)},init:function(){this.bottomStatus="pull",this.scrollEventTarget=this.getScrollEventTarget(this.$el),"function"==typeof this.bottomMethod&&this.bindTouchEvents()},checkBottomReached:function(){return this.scrollEventTarget===window?document.body.scrollTop+document.documentElement.clientHeight>=document.body.scrollHeight:this.$el.getBoundingClientRect().bottom<=this.scrollEventTarget.getBoundingClientRect().bottom+3},handleTouchStart:function(t){this.startY=t.touches[0].clientY,this.startScrollTop=this.getScrollTop(this.scrollEventTarget),this.bottomReached=!1,"loading"!==this.bottomStatus&&(this.bottomStatus="pull",this.bottomDropped=!1)},handleTouchMove:function(t){if(!(this.startY<this.$el.getBoundingClientRect().top&&this.startY>this.$el.getBoundingClientRect().bottom)){this.currentY=t.touches[0].clientY;var e=(this.currentY-this.startY)/this.distanceIndex;e>0||(this.bottomReached=this.bottomReached||this.checkBottomReached(),"function"==typeof this.bottomMethod&&this.bottomReached&&"loading"!==this.bottomStatus&&!this.bottomAllLoaded&&(t.preventDefault(),t.stopPropagation(),this.maxDistance>0?this.translate=Math.abs(e)<=this.maxDistance?this.getScrollTop(this.scrollEventTarget)-this.startScrollTop+e:this.translate:this.translate=this.getScrollTop(this.scrollEventTarget)-this.startScrollTop+e,this.translate>0&&(this.translate=0),this.bottomStatus=-this.translate>=this.bottomDistance?"drop":"pull"),this.$emit("translate-change",this.translate))}},handleTouchEnd:function(){this.bottomReached&&this.translate<0&&(this.bottomDropped=!0,this.bottomReached=!1,"drop"===this.bottomStatus?(this.translate="-50",this.bottomStatus="loading",this.bottomMethod()):(this.translate="0",this.bottomStatus="pull")),this.$emit("translate-change",this.translate)}},mounted:function(){this.init()}}},192:function(t,e,o){e=t.exports=o(117)(!1),e.push([t.i,".list-tail{margin-top:.4rem}",""])},286:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"g-inner g-pt g-pb"},[o("top-nav",{attrs:{title:"项目列表",needBack:!1}}),t._v(" "),o("div",{staticClass:"g-holder"},[o("div",{staticClass:"g-navbar-container"},[o("ul",{staticClass:"g-navbar g-hair-bottom flex col-3"},[o("li",{class:{"g-navbar-active":0===t.tabIndex},on:{click:function(e){t.tabIndex=0}}},[t._v("全部")]),t._v(" "),o("li",{class:{"g-navbar-active":1===t.tabIndex},on:{click:function(e){t.tabIndex=1}}},[t._v("私募债权基金")]),t._v(" "),o("li",{class:{"g-navbar-active":2===t.tabIndex},on:{click:function(e){t.tabIndex=2}}},[t._v("私募股权基金")])]),t._v(" "),o("div",{directives:[{name:"scrolls",rawName:"v-scrolls",value:{aim:"list"},expression:"{ aim: 'list'}"}],staticClass:"g-navbar-wrap"},[o("loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded}},t._l(t.list,function(t,e){return o("project-card",{key:e,attrs:{info:t}})})),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.allLoaded,expression:"allLoaded"}],staticClass:"g-tail f12 tc list-tail"},[o("span",[t._v("已为您加载所有内容")])])],1)])]),t._v(" "),o("tab-bar")],1)},staticRenderFns:[]}},322:function(t,e,o){var a=o(192);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(118)("4ee3c925",a,!0)},377:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(25),i=o.n(a),n=o(29),s=o.n(n),l=o(153),r=o.n(l);e.default={name:"list",data:function(){return{tabIndex:0,list:[],ajax:null,limit:10,allLoaded:!1,loadedTimes:1,loadedItems:0}},beforeRouteEnter:function(t,e,o){return window.isApp&&(window.BRIDGE.isTop(!0),window.directives.list=!0),1===t.query.type?o(function(t){return t.tabIndex=1}):2===t.query.type?o(function(t){return t.tabIndex=2}):void o(function(t){return t.tabIndex=0})},mounted:function(){var t=this;setTimeout(function(){0===t.tabIndex&&(COMMUNICATOR.$emit("loading"),t.fetch(function(){COMMUNICATOR.$emit("loaded")}))})},methods:{fetch:function(t){var e=this;if(!this.allLoaded){t="function"==typeof t?t:NOOP;var o=[null,4,1],a=o[this.tabIndex];this.ajax=$.ajax({url:"/api/peinvest/fundList",data:{limit:this.limit,page:this.loadedTimes,product_type:a},success:function(t){0==t.code&&(e.list=i()(e.list.concat(t.data.listInfo)),e.loadedItems+=e.limit,e.loadedTimes+=1,t.data.listTotal<=e.loadedItems&&(e.allLoaded=!0))},complete:t})}},loadBottom:function(){var t=this;this.fetch(function(){t.$refs.loadmore.onBottomLoaded()})}},watch:{tabIndex:function(t){this.ajax&&(this.ajax.abort(),this.ajax=null),this.list=[],this.loadedTimes=1,this.loadedItems=0,this.allLoaded=!1,COMMUNICATOR.$emit("loading"),this.fetch(function(){COMMUNICATOR.$emit("loaded")})}},components:{"project-card":s.a,loadmore:r.a}}}});